<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Explanation #  A considerable number of XS-Leaks relies on some properties of iframes. If an attacker is unable to embed the contents of a page as an iframe then the attack may no longer be possible. To mitigate XS-Leaks which rely on this object, pages can forbid or select which origins can embed them. This is possible by using the X-Frame-Options Header or the CSP frame-ancestors directive.
Since a website enforcing Framing Protections can&rsquo;t be embedded from an attacker origin, the website is not rendered and the JavaScript does not run."><meta name=theme-color content="#FFFFFF"><meta property="og:title" content="Framing Protections"><meta property="og:description" content="Explanation #  A considerable number of XS-Leaks relies on some properties of iframes. If an attacker is unable to embed the contents of a page as an iframe then the attack may no longer be possible. To mitigate XS-Leaks which rely on this object, pages can forbid or select which origins can embed them. This is possible by using the X-Frame-Options Header or the CSP frame-ancestors directive.
Since a website enforcing Framing Protections can&rsquo;t be embedded from an attacker origin, the website is not rendered and the JavaScript does not run."><meta property="og:type" content="article"><meta property="og:url" content="https://xsleaks.com/docs/defenses/opt-in/xfo/"><meta property="article:published_time" content="2020-07-21T00:00:00+00:00"><meta property="article:modified_time" content="2020-09-27T16:08:28+01:00"><title>Framing Protections | XS-Leaks Wiki</title><link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.3fdda1dce1e2459a1b1fc70c3e00001cd6e4d2f1f32f38ddef6e12ca41e9cef6.css integrity="sha256-P92h3OHiRZobH8cMPgAAHNbk0vHzLzjd724SykHpzvY="><script defer src=/en.search.min.55bbe51b7c566d76276792047f4ea0e56d93dbbc0aefdca33c3791dc096ab941.js integrity="sha256-VbvlG3xWbXYnZ5IEf06g5W2T27wK79yjPDeR3AlquUE="></script><script defer src=/sw.min.74a8bb07f0bee86d6bb9a2750f073f14d93c7e4512f28860370cfd879e9719b4.js integrity="sha256-dKi7B/C+6G1ruaJ1Dwc/FNk8fkUS8ohgNwz9h56XGbQ="></script></head><body><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><nav><h2 class=book-brand><a href=/><span>XS-Leaks Wiki</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li class=book-section-flat><a href=/docs/attacks/>Attacks</a><ul><li><a href=/docs/attacks/experiments/>Experiments</a><ul><li><a href=/docs/attacks/experiments/scroll-to-text-fragment/>Scroll to Text Fragment</a></li></ul></li><li><a href=/docs/attacks/historical/ class=collapsed>Historical</a></li><li><a href=/docs/attacks/timing-attacks/>Timing Attacks</a><ul><li><a href=/docs/attacks/timing-attacks/clocks/>Clocks</a></li><li><a href=/docs/attacks/timing-attacks/connection-pool/>Connection Pool</a></li><li><a href=/docs/attacks/timing-attacks/execution-timing/>Execution Timing</a></li><li><a href=/docs/attacks/timing-attacks/hybrid-timing/>Hybrid Timing</a></li><li><a href=/docs/attacks/timing-attacks/network-timing/>Network Timing</a></li></ul></li><li><a href=/docs/attacks/corb/>CORB Leaks</a></li><li><a href=/docs/attacks/corp/>CORP Leaks</a></li><li><a href=/docs/attacks/error-events/>Error Events</a></li><li><a href=/docs/attacks/frame-counting/>Frame Counting</a></li><li><a href=/docs/attacks/id-attribute/>ID Attribute</a></li><li><a href=/docs/attacks/navigations/>Navigations</a></li><li><a href=/docs/attacks/postmessage-broadcasts/>postMessage Broadcasts</a></li><li><a href=/docs/attacks/xs-search/>XS-Search</a></li><li><a href=/docs/attacks/cache-probing/>Cache Probing</a></li></ul></li><li class=book-section-flat><a href=/docs/defenses/>Defense Mechanisms</a><ul><li><span>Application Design</span><ul><li><a href=/docs/defenses/design-protections/subresource-protections/>Subresource Protections</a></li></ul></li><li><span>Browser Default</span><ul><li><a href=/docs/defenses/browser-intrinsic/corb/>Cross-Origin Read Blocking</a></li><li><a href=/docs/defenses/browser-intrinsic/partitioned-cache/>Partitioned HTTP Cache</a></li></ul></li><li><span>Opt-In</span><ul><li><a href=/docs/defenses/opt-in/coop/>Cross-Origin-Opener-Policy</a></li><li><a href=/docs/defenses/opt-in/corp/>Cross-Origin-Resource-Policy</a></li><li><a href=/docs/defenses/opt-in/fetch-metadata/>Fetch Metadata</a></li><li><a href=/docs/defenses/opt-in/xfo/ class=active>Framing Protections</a></li><li><a href=/docs/defenses/opt-in/same-site-cookies/>Same-Site Cookies</a></li></ul></li></ul></li></ul></nav><script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Framing Protections</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#explanation>Explanation</a></li><li><a href=#considerations>Considerations</a></li><li><a href=#deployment>Deployment</a></li><li><a href=#xs-leaks-mitigation-overview>XS-Leaks Mitigation Overview</a><ul><li><a href=#table-caption>Table Caption</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1>Framing Protections</h1><h5>July 21, 2020</h5><div>Category
<a href=/category/defenses/>defenses</a></div><p><h2 id=explanation>Explanation
<a class=anchor href=#explanation>#</a></h2><p>A considerable number of XS-Leaks relies on some properties of <code>iframes</code>. If an attacker is unable to embed the contents of a page as an <code>iframe</code> then the attack may no longer be possible. To mitigate XS-Leaks which rely on this object, pages can forbid or select which origins can embed them. This is possible by using the <a href=https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Frame-Options>X-Frame-Options Header</a> or the <a href=https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/frame-ancestors>CSP frame-ancestors directive</a>.</p><p>Since a website enforcing Framing Protections can&rsquo;t be embedded from an attacker origin, the website is not rendered and the JavaScript does not run. Therefore, all of its subresources (images, JS or CSS) are not retrieved by the browser.</p><blockquote class="book-hint warning"><a href=https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Frame-Options>X-Frame-Options Header</a> is obsolete and was replaced by the <a href=https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/frame-ancestors>CSP frame-ancestors directive</a>.</blockquote><h2 id=considerations>Considerations
<a class=anchor href=#considerations>#</a></h2><p>This protection is very effective against XS-Leaks which rely on <code>iframes</code> and can be easily implemented without breaking the vast majority of applications. This mechanism not only protects from some XS-Leaks but also from attacks like Clickjacking.</p><h2 id=deployment>Deployment
<a class=anchor href=#deployment>#</a></h2><p>Deploying framing protections is usually straightforward as many applications do not require to be embedded cross-origin in an iframe. Check out this <a href=https://web.dev/same-origin-policy/>web.dev</a> article to learn more about the advantages of this header.</p><h2 id=xs-leaks-mitigation-overview>XS-Leaks Mitigation Overview
<a class=anchor href=#xs-leaks-mitigation-overview>#</a></h2><table><thead><tr><th style=text-align:center>XS-Leak</th><th style=text-align:center>Framing Protections</th><th style=text-align:center>Full Mitigation</th></tr></thead><tbody><tr><td style=text-align:center><a href=https://xsleaks.com/docs/attacks/frame-counting/>Frame Counting</a></td><td style=text-align:center>✔️</td><td style=text-align:center>❌</td></tr><tr><td style=text-align:center><a href=https://xsleaks.com/docs/attacks/navigations/>Navigations</a></td><td style=text-align:center>✔️</td><td style=text-align:center>❌</td></tr><tr><td style=text-align:center><a href=https://xsleaks.com/docs/attacks/id-attribute/>ID Leaks</a></td><td style=text-align:center>✔️</td><td style=text-align:center>❌</td></tr></tbody></table><h3 id=table-caption>Table Caption
<a class=anchor href=#table-caption>#</a></h3><ul><li><strong>Framing Protections</strong> - At least one attack alternative of the XS-Leak relies on <code>iframes</code></li><li><strong>Full Mitigation</strong> - Does not fully mitigate an XS-Leak if an alternative attack vector that does not rely on the of <code>iframes</code></li></ul></p></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/xsleaks/wiki/commit/2731ab80d2803905890aff7eef56d553df501a6b title="Last modified by Manuel Sousa | September 27, 2020" target=_blank rel=noopener><img src=/svg/calendar.svg class=book-icon alt=Calendar>
<span>Last Modified: September 27, 2020</span></a></div><div><a class="flex align-center" href=https://github.com/xsleaks/wiki/edit/master/content//docs/defenses/opt-in/xfo.md target=_blank rel=noopener><img src=/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this article</span></a></div></div></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><nav id=TableOfContents><ul><li><a href=#explanation>Explanation</a></li><li><a href=#considerations>Considerations</a></li><li><a href=#deployment>Deployment</a></li><li><a href=#xs-leaks-mitigation-overview>XS-Leaks Mitigation Overview</a><ul><li><a href=#table-caption>Table Caption</a></li></ul></li></ul></nav></aside></main></body></html>